<script src="https://unpkg.com/@panzoom/panzoom@4.5.1/dist/panzoom.js"></script>
<div class="frame1">
  <div style="position: absolute; top: 0px; left: 0px" id="frame">
    <div>
      <div class="pointer" style="" id="pointer"></div>
      <img
        src="https://github.com/bababoy-mc/bababoy-mc.github.io/blob/main/map.png?raw=true"
        class="frame"
        id="zoom"
      />
    </div>
  </div>
</div>
<script>
  const ORIGIN_X = 2560;
  const ORIGIN_Y = 2048;
  const inst = Panzoom(document.querySelector("#frame"));
  document.querySelector(".frame1").addEventListener("wheel", inst.zoomWithWheel);
  function display(x, y) {
    const el = document.querySelector("#pointer");
    const x1 = x;
    const y1 = y;
    el.style.transform = `translate(${x1 + ORIGIN_X}px, ${y1 + ORIGIN_Y}px)`;
    el.style.display = "block";
    inst.zoom(4);
    setTimeout(function () {
      document.querySelector(".pointer").scrollIntoView();
    }, 100);
  }
  const args = new URL(location.href).searchParams;
  let x = args.get("x");
  if (x == null) x = 0;
  x = new Number(x);
  let y = args.get("y");
  if (y == null) y = 0;
  y = new Number(y);
  display(x, y);
</script>
<style>
  #frame {
    transform: matrix(0.345714, 0, 0, 0.345714, 394.194, 106.283);
  }
  .frame {
    padding: none;
    width: 2816px;
    height: 2048px;
    margin: none;
    image-rendering: pixelated;
  }
  .frame1 {
    width: 50%;
    height: 50%;
  }
  .pointer {
    width: 5vh;
    height: 8vh;
    z-index: 200;
    position: absolute;
    display: none;
    top: 0px;
    left: 0px;
    margin-left: -2.5vh;
    margin-top: -8vh;
    background-image: url("https://github.com/bababoy-mc/bababoy-mc.github.io/blob/main/Google_Maps_pin.svg.png?raw=true");
    background-size: cover;
  }
</style>
